<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN"
            "http://www.w3.org/TR/REC-html40/loose.dtd">
<html>
<head>
   <title>XML-DBMS, Version 1.1</title>
</head>
<body>

<center>
<h1>XML-DBMS, Version 1.1</h1>
<h2>Java Packages for Transferring Data between<br />XML Documents and Relational Databases</h2>
</center>

<h2>Contents</h2>

<p>
<a href="#Intro"/>1.0 Introduction</a><br />
<a href="#GettingStarted"/>2.0 Getting Started</a><br />
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#Requirements"/>2.1 System Requirements</a><br />
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#Install"/>2.2 Downloading and Installing XML-DBMS</a><br />
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#Using"/>2.3 Using XML-DBMS</a><br />
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#Docs"/>2.4 XML-DBMS Documentation</a><br />
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#SourceCode"/>2.5 XML-DBMS Source Code</a><br />
<a href="#LandS"/>8.0 Licensing and Support</a><br />
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#License"/>8.1 Licensing</a><br />
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#Support"/>8.2 Support</a><br />
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#Help"/>8.3 How can I help?</a><br />
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#Thanks"/>8.4 Thanks</a><br />
<a href="#SampleData"/>Appendix B: Sample Documents and Tables</a><br />
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#SalesSample"/>B.1 Sales Sample</a><br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a href="#SalesSampleDoc"/>B.1.1 Sample Sales Document</a><br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a href="#SalesSampleTables"/>B.1.2 Tables for Sales Sample</a><br />
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#DocSample"/>B.2 Product Description Sample</a><br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a href="#ProdSampleDoc"/>B.2.1 Sample Product Description Document</a><br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a href="#ProdSampleTables"/>B.2.2 Tables for Product Description Sample</a><br />
</p>

<h2><a name="Intro"/>1.0 Introduction</h2>

<p>XML-DBMS is a set of Java packages for transferring data between XML documents and relational databases. You can use XML-DBMS in three different ways: from a GUI, from a command line, and from your own application. The first two ways are easiest; the last gives you the most flexibility and control.</p>

<p>XML-DBMS is based on an object-relational mapping from the XML document to the database. This preserves the elements, attributes, data (character data and attribute values), and hierarchical structure of an XML document. It optionally preserves the order in which the children (elements and PCDATA) of a given parent occur. (For many data-centric applications, such order is not important and the code runs faster without it.)</p>

<p>Because XML-DBMS seeks to transfer data, not documents, it does not preserve document type declarations, comments, processing instructions, etc., nor does it preserve physical structure such as entity use, CDATA sections, or document encodings.</p>

<p><b>IMPORTANT:</b> The object-relational mapping used by XML-DBMS is extremely inefficient for document-centric languages such as XHTML. Because of this, and because XML-DBMS does not preserve many of the things that are important to document-centric documents, you should think hard before using XML-DBMS as a way to store documents (as opposed to data) in a relational database. In many cases, you would be better off using a native XML database for this purpose.</p>

<p>For a general discussion of XML and databases, including XML-enabled databases such as Oracle and Microsoft SQL Server, middleware such as XML-DBMS, and native XML databases, see <a href="http://www.rpbourret.com/xml/XMLAndDatabases.htm">XML and Databases</a>. For a discussion of the object-relational mapping used by XML-DBMS, see <a href="http://www.xml.com/pub/a/2001/05/09/dtdtodbs.html">Mapping DTDs to Databases</a>.</p>

<h2><a name="GettingStarted"/>2.0 Getting Started</h2>

<h3><a name="Requirements"/>2.1 System Requirements</h3>

<p>To run XML-DBMS, you need the following software:</p>

<ul>
<li>
<b>XML-DBMS</b>
<br /><br />
Download: <a href="http://www.rpbourret.com/xmldbms/index.htm">http://www.rpbourret.com/xmldbms/index.htm</a>
<br /><br />
</li>

<li>
<b>JDK (Java Development Kit) 1.1.x, 1.2.x, or 1.3.x</b>
<br /><br />
Except as noted below, XML-DBMS only uses JDK 1.1.<br /><br />
Download: <a href="http://java.sun.com/products/jdk/1.1/index.html">http://java.sun.com/products/jdk/1.1/index.html</a>
<br /><br />
</li>

<li>
<b>JDBC 2.0 Optional Package Binary</b>
<br /><br />
This is named jdbc2_0-stdext.jar and contains the javax.sql classes. If you are using JDK 1.2 or 1.3, you might already have this. Check your directories to be sure. If you are using JDK 1.1.x, you will always need to download this. To download, go to the JDBC 2.0 Optional Package section of the following site and click the "continue" button for JDBC 2.0 Optional Package Binary.<br /><br />
Download: <a href="http://java.sun.com/products/jdbc/download.html">http://java.sun.com/products/jdbc/download.html</a>
<br /><br />
</li>

<li>
<b>Java Swing Components (Optional)</b>
<br /><br />
<b>Note:</b> You need Swing only if you want to use the GUI interface for XML-DBMS. If you only want to use XML-DBMS programmatically, you do not need Swing.<br /><br />
Download: <a href="http://java.sun.com/products/jfc/download.html">http://java.sun.com/products/jfc/download.html</a>
<br /><br />
</li>

<li>
<b>A DataSource that implements connection and statement pooling (Optional)</b>
<br /><br />
XML-DBMS ships four different DataSources that implement connection and statement pooling.  However, these are simple implementations and you might get better performance and/or more options from other products. If your JDBC driver includes a DataSource that implements both connection and statement pooling, you can use that. You can also use a third-party DataSource, such as that from PoolMan. (PoolMan is Open Source.)
<br /><br />
Download: <a href="http://www.codestudio.com/PoolMan/">http://www.codestudio.com/PoolMan/</a>
<br /><br />
</li>

<li>
<b>A relational database such as Oracle, DB2, Informix, MS Access, or MySQL</b>
<br /><br />
You will need to buy this on your own or find a free relational database on the Web. Note that if you are thinking about using XML-DBMS, you probably already have a relational database.
<br /><br />
</li>

<li>
<b>A JDBC driver for your database</b>
<br /><br />
Most relational databases are shipped with JDBC and ODBC drivers. If you have an ODBC driver but not a JDBC driver, you can use an JDBC-ODBC bridge as your JDBC driver. This converts JDBC calls to ODBC calls. An experimental (and therefore somewhat buggy) JDBC-ODBC bridge is shipped with the JDK; JDBC-ODBC bridges are available from other companies as well. Note that the quality of JDBC drivers varies considerably, so if one JDBC driver does not work, you can try another. For a list of available JDBC drivers, see:
<br /><br />
<a href="http://industry.java.sun.com/products/jdbc/drivers">http://industry.java.sun.com/products/jdbc/drivers</a>
<br /><br />
</li>

<li>
<b>An XML parser written in Java</b>
<br /><br />
XML parsers are available from many companies, such as Oracle, Sun, IBM, and Microsoft (DataChannel). In addition, Open Source parsers are available from many organizations and individuals, such as James Clark, OpenXML, and Apache. For a partial list of available parsers, see:
<br /><br />
<a href="http://www.xmlsoftware.com/parsers/">http://www.xmlsoftware.com/parsers/</a>
<br /><br />
</li>

<li>
<b>A DOM level 1 implementation written in Java</b>
<br /><br />
Most XML parsers include an implementation of the DOM (Document Object Model). Thus, if your parser already supports the DOM, you don't need to download a separate DOM implementation. If your parser does not support the DOM, you can download a separate DOM implementation, such as that from Docuverse:
<br /><br />
<a href="http://www.docuverse.com/">http://www.docuverse.com/</a>
<br /><br />
</li>

<li>
<b>SAX (Simple API for XML) version 1</b>
<br /><br />
SAX is an event-based parser API. Virtually all parsers include an implementation of SAX; if yours doesn't, you should get a parser that does. For more information about SAX, see:
<br /><br />
<a href="http://www.megginson.com/SAX/index.html">http://www.megginson.com/SAX/index.html</a>
<br /><br />
</li>

<li>
<b>An XSLT processor written in Java (optional)</b>
<br /><br />
Most XSLT processors are Open Source, the most popular being Xalan from Apache. For a partial list of available parsers, see:<br /><br />
<a href="http://www.xmlsoftware.com/xslt/">http://www.xmlsoftware.com/xslt/</a>
<br /><br />
</li>

<li>
<b>A JMS server (optional)</b>
<br /><br />
</li>

</ul>

<p>XML-DBMS has been run with products from numerous companies, including the following. Note that inclusion on this list does not imply full testing -- simply that some part of XML-DBMS has been run successfully with the product. Similarly, products not on the list should still be useable by XML-DBMS. This is because XML-DBMS rarely strays from the core features of Java, SAX, DOM, and JDBC and therefore should work with most implementations of these specifications.</p>

<ul>
<li>JDK: 1.1.7, 1.1.8, 1.2.1, 1.3[1]</li>
<li>XML Parsers: DataChannel, IBM, OpenXML, Oracle (versions 1 and 2), Sun, Xerces</li>
<li>JDBC Drivers: Sun JDBC-ODBC Bridge, Easysoft JDBC-ODBC Bridge, JDBC Driver from Oracle</li>
<li>Databases: Microsoft Access, Oracle, Microsoft SQL Server[2], Sybase SQL Server[2], MySQL, PrimeBase, Postgres</li>
</ul>

<p>[1] See the bug "<a href="http://sourceforge.net/tracker/?group_id=13613&atid=113613&func=detail&aid=408901">Result sets closed twice/JDK 1.3</a>" in the <a href="http://sourceforge.net/tracker/?group_id=13613&atid=113613">XML-DBMS Bug Database</a>.<br />
[2] See the bug "<a href="http://sourceforge.net/tracker/index.php?func=detail&aid=408891&group_id=13613&atid=113613">Error retrieving data from SQL Server</a> in the <a href="http://sourceforge.net/tracker/?group_id=13613&atid=113613">XML-DBMS Bug Database</a>.</p>

<h3><a name="Install"/>2.2 Downloading and Installing XML-DBMS</h3>

<p>To download the current version of XML-DBMS, see:</p>

<ul>
<li><a href="http://www.rpbourret.com/xmldbms/index.htm">http://www.rpbourret.com/xmldbms/index.htm</a></li>
</ul>

<p>To install XML-DBMS version 1.01 from a .zip file:</p>

<ol>
<li>Unzip the downloaded file with a tool such as jar or WinZip.</li>
<li>Add xmldbms.jar to your CLASSPATH. For example:
<br /><br />
<pre>
   c:\java\xmldbms\xmldbms.jar;c:\java\jdk1.2.1\bin;c:\java\xerces-1_1_1\xerces.jar;.\
</pre>
</ol>

<p>To install XML-DBMS version 1.1 from CVS:</p>

<ol>
<li>Use the CVS checkout command to get the <a href="http://sourceforge.net/cvs/?group_id=13613">latest version of XML-DBMS from Source Forge</a>. Version 1.1 code is in the de module. Sample data is in the samples module.</li>
<li>Add the de subdirectory directory to your CLASSPATH. For example:
<br /><br />
<pre>
   [<i>installation path</i>]\de;c:\java\jdk1.2.1\bin;c:\java\xerces-1_1_1\xerces.jar;.\
</pre>
<li>Compile the .java files. Unless you are using the schema conversion tools, it should be sufficient to compile the XMLDBMS (GUI), Transfer, and GenerateMap tools, as well as the <a href="#Namespaces">NameQualifier</a> and <a href="#ParserUtils">ParserUtils</a> classes for your parser. For example, if you are using the Xerces parser and you installed the code in the c:\java\de directory, use the following commands:
<br /><br />
<pre>
   c:> cd c:\java\de\tudarmstadt\ito\xmldbms\gui
   c:> javac XMLDBMS.java
   c:> cd ..\tools
   c:> javac Transfer.java
   c:> javac GenerateMap.java
   c:> cd ..\..\domutils
   c:> javac ParserUtilsXerces.java
   c:> javac NQ_DOM2.java
</pre>
</ol>

<h3><a name="Using"/>2.3 Using XML-DBMS</h3>

<p>Before you can use XML-DBMS to transfer data between XML documents and the database, you must:</p>

<ul>
<li><p>Create a map document for each set of XML documents you want to use -- that is, each group of XML documents that match a given DTD (XML Schema, etc.). If you want, you can use the sample maps shipped with the product; for more information, see Appendix B, "<a href="#SampleData">Sample Documents and Data</a>". For information about creating your own map documents, see section 4.2, "<a href="#MapDocs">Creating Map Documents</a>".</p></li>

<li><p>Create the tables in the database that will store the data from the XML documents, assuming they don't already exist. If you are using the sample data, see the table schemas in Appendix B, "<a href="#SampleData">Sample Documents and Data</a>". For information about creating your own tables, see section 4.2, "<a href="#MapDocs">Creating Map Documents</a>".</p></li>

<li><p>Create and initialize the XMLDBMSKey table if your map tells XML-DBMS to generate keys for you. If you are using the sample maps, the sales order maps do not require this, while the product description maps do. For more information, see section 7.3, "<a href="#KeyGenerators">Key (Object ID) Generators</a>".</p></li>
</ul>

<p>After you have set up your database and map documents, you are ready to transfer data between XML documents and your database. You can use XML-DBMS in three different ways:</p>

<ul>
<li><p><b>XML-DBMS GUI.</b> This is the simplest way to use XML-DBMS. To run the XML-DBMS GUI, use the following command at the command line:</p>

<pre>
   c:> java de.tudarmstadt.ito.xmldbms.gui.XMLDBMS
</pre>
</li>

<li><p><b>Command line.</b> You pass the actions to be taken in property/value pairs. For example, to transfer data from the sales.xml document to the database according to the sales.map map document, you might use the following command:</p>

<pre>
   c:> java de.tudarmstadt.ito.xmldbms.tools.Transfer
                 File=xerces.props File=mydb.props Password=ronpwd
                 Action=StoreDocument MapFile=sales.map XMLFile=sales.xml
</pre>

<p>For more information, see section 5.0, <a href="#UsingCmd">Transferring Data from the Command Line</a>.</p></li>

<li><p><b>Programmatically.</b> You have four choices, depending on how much control you want and how much work you want to do:</p>
<ul>
<li><p><b>Properties-driven interface.</b> Your application calls the Transfer class programmatically and passes it the same properties you would have passed on the command line. For more information, see section 6.1, <a href="#ProgProps">Calling XML-DBMS with Properties</a>.</p></li>
<li><p><b>High-level API.</b> Your application calls the Transfer class programmatically. However, fewer properties are used and you can pass XML documents as strings or files. This is the easiest way to use XML-DBMS programmatically. For more information, see section 6.2, <a href="#ProgHigh">Calling XML-DBMS through the High-Level API</a>.</p></li>
<li><p><b>Mid-level API.</b> Your application calls the TransferEngine class directly. Currently, the TransferEngine API is almost the same as the Transfer API, so there is little reason to use it. In the future, this will probably be replaced by the XML:DB API. For more information, see section 6.3, <a href="#ProgMid">Calling XML-DBMS through the Mid-Level API</a>.</p></li>
<li><p><b>Low-level API.</b> Your application calls the low-level classes DOMToDBMS and DBMSToDOM directly. This gives you the most control. For more information, see section 6.4, <a href="#ProgLow">Calling XML-DBMS through the Low-Level API</a>.</p></li>
</ul>
</li>
</ul>

<h3><a name="Docs"/>2.4 XML-DBMS Documentation</h3>

<p>XML-DBMS comes with a complete set of documentation. Beginners should start with the following sections of this document:</p>

<ul>
<li><a href="#Requirements">System Requirements</a></li>
<li><a href="#Install">Downloading and Installing XML-DBMS</a></li>
<li><a href="#ObjectView">An Object View of an XML Document</a></li>
<li>The XML-DBMS Mapping Language (sections <a href="#Lang">4.1</a> and <a href="#Identifiers">4.3</a> to <a href="#LangMixedII">4.9</a> only)</li>
<li><a href="#MapDocs">Creating Map Documents</a></li>
<li><a href="#UsingCmd">Transferring Data from the Command Line</a></li>
<li>The <a href="#SampleData">sample data</a></li>
</ul>

<p>Intermediate users should read the following:</p>

<ul>
<li>The XML-DBMS Mapping Language</a> (sections <a href="#LangNS">4.11</a> to <a href="#LangDateTime">4.13</a>)</li>
<li><a href=#ProgProps">Calling XML-DBMS with Properties</a></li>
<li><a href="#Additional">Additional Programming Considerations</a> (sections <a href="#Namespaces">7.1</a> to <a href="#XSLT">7.4</a>)</li>
<li>The comments in the <a href="xmldbms.dtd">XML-DBMS mapping language DTD</a></li>
<li><a href="http://www.xml.com/pub/a/2001/05/09/dtdtodbs.html">Mapping DTDs to Databases</a>. Section 3, Object-Relational Mappings, describes the mapping model used by XML-DBMS. Section 4.1, Generating Relational Schema from DTDs, describes the algorithm used by the GenerateMap tool.</li>
</ul>

<p>Advanced users should read the following:</p>

<ul>
<li>The XML-DBMS Mapping Language</a> (sections <a href="#LangResult">4.10</a> and <a href="#LangQuery">4.14</a>)</li>
<li><a href=#ProgHigh">Calling XML-DBMS through the High-Level API</a></li>
<li><a href=#ProgLow">Calling XML-DBMS through the Low-Level API</a></li>
<li><a href="#Additional">Additional Programming Considerations</a> (sections <a href="#JMS">7.5</a> to <a href="#NotForUse">7.7</a>)</li>
<li>The code in TransferEngine.</li>
<li>Comments in the code. (See <a href="sourcecode.zip">sourcecode.zip</a>)</li>
<li><a href="docs/packages.html">XML-DBMS API documentation</a></li>
</ul>

<h3><a name="SourceCode"/>2.5 XML-DBMS Source Code</h3>

<p>The source code for XML-DBMS is shipped with the product. You can find it in the sourcecode.zip file in the directory you installed XML-DBMS in. You can also get the latest version of the source code from the <a href="http://sourceforge.net/cvs/?group_id=13613">XML-DBMS CVS tree</a> on Source Forge. XML-DBMS version 1.1 is in the de module. XML-DBMS version 2.0 (not yet complete) is in the org module.</p>

<h2><a name="LandS"/>8.0 Licensing and Support</h2>

<h3><a name="License"/>8.1 Licensing</h3>

<p>XML-DBMS, along with its source code, is freely available for use in both commercial and non-commercial settings. It is not copyrighted and has <b>absolutely no warranty</b>. Use it as you will.</p>

<h3><a name="Support"/>8.2 Support</h3>

<p>If you have questions about how to use XML-DBMS, the first thing you should do is <a href="#Docs">read the documentation</a> and look at the sample programs. If you want to check for known bugs, you have three options. First, check the <a href="http://sourceforge.net/tracker/?group_id=13613&atid=113613">XML-DBMS bug database</a> on SourceForge. Second, look at the list of <a href="BugsEnhancements.htm">known bugs and proposed enhancements</a> shipped with the product. Third, look at the archives of the XML-DBMS mailing list (see below), which lists many known bugs and frequently asked questions.</p>

<p>If you still have a question, you can send email to the mailing list at <a href="mailto:xml-dbms@yahoogroups.com">xml-dbms@yahoogroups.com</a>. Although you must be a member of the mailing list to post messages, anyone can read the messages in the archives. You can join the mailing list and read the archives at:</p>

<p>&nbsp;&nbsp;&nbsp;<a href="http://groups.yahoo.com/group/xml-dbms">http://groups.yahoo.com/group/xml-dbms</a></p>

<p>You can also join the XML-DBMS newsgroup at:

<p>&nbsp;&nbsp;&nbsp;<a href="news://news.barkto.com/homeless.xml.xml-dbms">news://news.barkto.com/homeless.xml.xml-dbms</a></p>

<p>And no matter where you post them, bug reports and comments are always welcome.</p>

<h3><a name="Help"/>8.3 How can I help?</h3>

<p>XML-DBMS is an ongoing, Open Source project and depends on users for feedback, bug reports, and new code. The best way to help out is to join the mailing list and actively participate in discussions, find and fix bugs, suggest new features, and submit changes you have made for inclusion in future releases. For the latest news, check the XML-DBMS home page at:</p>

<p>&nbsp;&nbsp;&nbsp;<a href="http://www.rpbourret.com/xmldbms/index.htm">http://www.rpbourret.com/xmldbms/index.htm</a></p>

<p>or the XML-DBMS project page on SourceForge:</p>

<p>&nbsp;&nbsp;&nbsp;<a href="https://sourceforge.net/projects/xmldbms/">https://sourceforge.net/projects/xmldbms/</a></p>

<h3><a name="Thanks"/>8.4 Thanks</h3>

<p>Thanks to all those who have sent comments, suggestions for new features, bug reports, and code.</p>

<p>First, two people deserve special mention. <b>Nick Semenov</b> single-handedly wrote the PERL version of XML-DBMS and has done an excellent job maintaining and supporting it. <b>Adam Flinton</b> designed and wrote almost all of the new code in version 1.1 -- a tremendous effort -- and has been instrumental in keeping me on track for version 2.0.</p>

<p> Special thanks also to the following, who have made many helpful suggestions and comments, as well as contributing code and support on the mailing list. My apologies to anyone whose name I have missed.</p>

<ul>
<li>Alf Hogemark</li>
<li>Brian Pendleton</li>
<li>Emmanuel Clarke</li>
<li>Himanshu G</li>
<li>Ivana Tzenova</li>
<li>Iztok Kucan</li>
<li>Jiri Zoth</li>
<li>Josep Miquel Garcia Rodriguez</li>
<li>Laurent Foret</li>
<li>Marc Lohmann</li>
<li>Matthias Pfisterer</li>
<li>Michael Angerman</li>
<li>Omar López Ruiz</li>
<li>Peter Adolphs</li>
<li>Phil Friedman</li>
<li>Ravi Kumar</li>
<li>Richard Sullivan</li>
<li>Roland Stengel</li>
<li>Ruben Lainez</li>
<li>Tobias Schilgen</li>
</ul>

<p>Finally, thanks to <a href="http://groups.yahoo.com/">Yahoo Groups</a> for providing a mailing list and archives, which have proved invaluable, <a href="http://sourceforge.net">Source Forge</a> for their development support, and the folks at news.barkto.com for hosting the news group.</p>

<h2><a name="SampleData"/>Appendix B: Sample Documents and Tables</h2>

<p>XML-DBMS comes with two sets of sample XML documents: a <a href="#SalesSample">sales order</a> and a <a href="#DocSample">product description</a>. The sample documents and the tables needed to store these documents according to the shipped map documents are described in this section.</p>

<h3><a name="SalesSample"/>B.1 Sales Sample</h3>

<p>The sales sample shows a simple sales order written as an XML document. This is an example of a data-centric document. (For more information about data-centric documents, see section 4.1 of <a href="http://www.rpbourret.com/xml/XMLAndDatabases.htm#datacentric">XML and Databases</a>.) The sample comes with several different map documents:</p>

<ul>
<li><a href="samples/sales.map">sales.map</a> maps the sales_in.xml document</li>
<li><a href="samples/sales_ns.map">sales_ns.map</a> maps the sales_in_ns.xml document, which uses XML namespaces</li>
<li><a href="samples/sales_rs1.map">sales_rs1.map</a> maps a result set over the Sales table</li>
<li><a href="samples/sales_rs2.map">sales_rs2.map</a> maps a join of the Sales and Lines tables</li>
<li><a href="samples/sales_rs3.map">sales_rs3.map</a> maps a result set over the Sales table and joins it to all child tables for nested output</li>
</ul>

<h4><a name="SalesSampleDoc"/>B.1.1 Sample Sales Document</h4>

<p>The sales sample comes with two forms of the sales order document: <a href="samples/sales_in.xml">sales_in.xml</a>, which does not use XML namespaces, and <a href="samples/sales_in_ns.xml">sales_in_ns.xml</a>, which does use XML namespaces. sales_in.xml is shown below.</p>

<pre>
   &lt;Orders&gt;
      &lt;SalesOrder SONumber="12345"&gt;
         &lt;Customer CustNumber="543"&gt;
            &lt;CustName&gt;ABC Industries&lt;/CustName&gt;
            &lt;Street&gt;123 Main St.&lt;/Street&gt;
            &lt;City&gt;Chicago&lt;/City&gt;
            &lt;State&gt;IL&lt;/State&gt;
            &lt;PostCode&gt;60609&lt;/PostCode&gt;
         &lt;/Customer&gt;
         &lt;OrderDate&gt;981215&lt;/OrderDate&gt;
         &lt;Line LineNumber="1"&gt;
            &lt;Part PartNumber="123"&gt;
               &lt;Description&gt;
                  &lt;P&gt;&lt;B&gt;Turkey wrench:&lt;/B&gt;&lt;BR /&gt;
                  Stainless steel, one-piece construction,
                  lifetime guarantee.&lt;/P&gt;
               &lt;/Description&gt;
               &lt;Price&gt;9.95&lt;/Price&gt;
            &lt;/Part&gt;
            &lt;Quantity&gt;10&lt;/Quantity&gt;
         &lt;/Line&gt;
         &lt;Line LineNumber="2"&gt;
            &lt;Part PartNumber="456"&gt;
               &lt;Description&gt;
                  &lt;P&gt;&lt;B&gt;Stuffing separator:&lt;B&gt;&lt;BR /&gt;
                  Aluminum, one-year guarantee.&lt;/P&gt;
               &lt;/Description&gt;
               &lt;Price&gt;13.27&lt;/Price&gt;
            &lt;/Part&gt;
            &lt;Quantity&gt;5&lt;/Quantity&gt;
         &lt;/Line&gt;
      &lt;/SalesOrder&gt;
   &lt;/Orders&gt;
</pre>

<h4><a name="SalesSampleTables"/>B.1.2 Tables for Sales Sample</h4>

<p>The following tables are needed to store the sales_in.xml document, as it is mapped with sales.map.</p>

<table>
  <tr>
   <th width="10"></th>
   <th align="left" width="100">Sales</th>
   <th width="100"></th>
   <th width="40"></th>
   <th align="left" width="100">Lines</th>
   <th width="100"></th>
  </tr>
  <tr>
   <td></td>
   <td>Number</td>
   <td>VARCHAR(10)</td>
   <td></td>
   <td>SONumber</td>
   <td>VARCHAR(10)</td>
  </tr>
  <tr>
   <td></td>
   <td>CustNumber</td>
   <td>VARCHAR(10)</td>
   <td></td>
   <td>Number</td>
   <td>INTEGER</td>
  </tr>
  <tr>
   <td></td>
   <td>Date</td>
   <td>DATE</td>
   <td></td>
   <td>Part</td>
   <td>VARCHAR(10)</td>
  </tr>
  <tr>
   <td></td>
   <td></td>
   <td></td>
   <td></td>
   <td>Quantity</td>
   <td>INTEGER</td>
  </tr>
</table>

<p></p>

<table>
  <tr>
   <th width="10"></th>
   <th align="left" width="100">Customers</th>
   <th width="100"></th>
   <th width="40"></th>
   <th align="left" width="100">Parts</th>
   <th width="100"></th>
  </tr>
  <tr>
   <td></td>
   <td>Number</td>
   <td>VARCHAR(10)</td>
   <td></td>
   <td>Number</td>
   <td>VARCHAR(10)</td>
  </tr>
  <tr>
   <td></td>
   <td>Name</td>
   <td>VARCHAR(40)</td>
   <td></td>
   <td>Description</td>
   <td>VARCHAR(255)</td>
  </tr>
  <tr>
   <td></td>
   <td>Street/td>
   <td>VARCHAR(50)</td>
   <td></td>
   <td>Price</td>
   <td>DOUBLE</td>
  </tr>
  <tr>
   <td></td>
   <td>City</td>
   <td>VARCHAR(50)</td>
   <td></td>
   <td></td>
   <td></td>
  </tr>
  <tr>
   <td></td>
   <td>State</td>
   <td>VARCHAR(2)</td>
   <td></td>
   <td></td>
   <td></td>
  </tr>
  <tr>
   <td></td>
   <td>PostalCode</td>
   <td>VARCHAR(10)</td>
   <td></td>
   <td></td>
   <td></td>
  </tr>
</table>

<h3><a name="DocSample"/>B.2 Product Description Sample</h3>

<p>The document sample shows a simple product description written in XML. This is an example of a document-centric document. (For more information about document-centric documents, see section 4.2 of <a href="http://www.rpbourret.com/xml/XMLAndDatabases.htm#doccentric">XML and Databases</a>.) The sample comes with a single map document (<a href="samples/product.map">product.map</a>), as well as a DTD (<a href="samples/product.dtd">product.dtd</a>). The latter can be used with the <a href="#MapDocs">GenerateMap</a> tool.</p>

<h4><a name="ProdSampleDoc"/>B.2.1 Sample Product Description Document</h4>

<p>There is a single form of the product description document (<a href="samples/product_in.xml">product_in.xml</a>), which is shown below.</p>

<pre>
   &lt;!DOCTYPE Product SYSTEM "product.dtd"&gt;

   &lt;Product&gt;

   &lt;Name&gt;XML-DBMS&lt;/Name&gt;

   &lt;Developer&gt;Ronald Bourret, Technical University of Darmstadt&lt;/Developer&gt;

   &lt;Summary&gt;Java packages for transferring data between
   XML documents and relational databases&lt;/Summary&gt;

   &lt;Description&gt;

   &lt;Para&gt;XML-DBMS is a set of Java packages for transferring data between
   XML documents and relational databases. It views the XML document as a tree
   of objects in which element types are generally viewed as classes and
   attributes and PCDATA as properties of those classes. It then uses an object-
   relational mapping to map these objects to the database. An XML-based mapping
   language is used to define the view and map it to the database.&lt;/Para&gt;
   
   &lt;Para&gt;You can:&lt;/Para&gt;
   
   &lt;List&gt;
   &lt;Item&gt;&lt;Link URL="readme.html"&gt;Read more about XML-DBMS&lt;/Link&gt;&lt;/Item&gt;
   &lt;Item&gt;&lt;Link URL="XMLAndDatabases.htm"&gt;Read more about databases and XML&lt;/Link&gt;&lt;/Item&gt;
   &lt;Item&gt;&lt;Link URL="xmldbms.dtd"&gt;View the mapping language DTD&lt;/Link&gt;&lt;/Item&gt;
   &lt;Item&gt;&lt;Link URL="xmldbms.zip"&gt;Download XML-DBMS&lt;/Link&gt;&lt;/Item&gt;
   &lt;/List&gt;
   
   &lt;Para&gt;XML-DBMS, along with its source code, is freely available for use
   in both commercial and non-commercial settings.&lt;/Para&gt;
   
   &lt;/Description&gt;
   
</pre>

<h4><a name="ProdSampleTables"/>B.2.2 Tables for Product Description Sample</h4>

<p>The following tables are needed to store the product_in.xml document, as it is mapped with product.map.</p>

<table>
  <tr>
   <th width="10"></th>
   <th align="left" width="150">Product</th>
   <th width="100"></th>
   <th width="20"></th>
   <th align="left" width="150">Link</th>
   <th width="100"></th>
  </tr>
  <tr>
   <td></td>
   <td>ProductPK</td>
   <td>INTEGER</td>
   <td></td>
   <td>ParaFK</td>
   <td>INTEGER</td>
  </tr>
  <tr>
   <td></td>
   <td>ProductOrder</td>
   <td>INTEGER</td>
   <td></td>
   <td>ItemFK</td>
   <td>INTEGER</td>
  </tr>
  <tr>
   <td></td>
   <td>Name</td>
   <td>VARCHAR(50)</td>
   <td></td>
   <td>LinkOrder</td>
   <td>INTEGER</td>
  </tr>
  <tr>
   <td></td>
   <td>NameOrder</td>
   <td>INTEGER</td>
   <td></td>
   <td>URL</td>
   <td>VARCHAR(255)</td>
  </tr>
  <tr>
   <td></td>
   <td>Developer</td>
   <td>VARCHAR(100)</td>
   <td></td>
   <td>LinkPCDATA</td>
   <td>VARCHAR(255)</td>
  </tr>
  <tr>
   <td></td>
   <td>DeveloperOrder</td>
   <td>INTEGER</td>
   <td></td>
   <td></td>
   <td></td>
  </tr>
  <tr>
   <td></td>
   <td>Summary</td>
   <td>VARCHAR(255)</td>
   <td></td>
   <td></td>
   <td></td>
  </tr>
  <tr>
   <td></td>
   <td>SummaryOrder</td>
   <td>INTEGER</td>
   <td></td>
   <td></td>
   <td></td>
  </tr>
</table>

<p></p>

<table>
  <tr>
   <th width="10"></th>
   <th align="left" width="150">Description</th>
   <th width="100"></th>
   <th width="20"></th>
   <th align="left" width="150">List</th>
   <th width="100"></th>
  </tr>
  <tr>
   <td></td>
   <td>ProductFK</td>
   <td>INTEGER</td>
   <td></td>
   <td>DescriptionFK</td>
   <td>INTEGER</td>
  </tr>
  <tr>
   <td></td>
   <td>DescriptionPK</td>
   <td>INTEGER</td>
   <td></td>
   <td>ListPK</td>
   <td>INTEGER</td>
  </tr>
  <tr>
   <td></td>
   <td>DescriptionOrder</td>
   <td>INTEGER</td>
   <td></td>
   <td>ListOrder</td>
   <td>INTEGER</td>
  </tr>
</table>

<p></p>

<table>
  <tr>
   <th width="10"></th>
   <th align="left" width="150">Para</th>
   <th width="100"></th>
   <th width="20"></th>
   <th align="left" width="150">ParaPCDATA</th>
   <th width="100"></th>
  </tr>
  <tr>
   <td></td>
   <td>DescriptionFK</td>
   <td>INTEGER</td>
   <td></td>
   <td>ParaFK</td>
   <td>INTEGER</td>
  </tr>
  <tr>
   <td></td>
   <td>ParaPK</td>
   <td>INTEGER</td>
   <td></td>
   <td>ParaPCDATA</td>
   <td>VARCHAR(1023) or LONGVARCHAR</td>
  </tr>
  <tr>
   <td></td>
   <td>ParaOrder</td>
   <td>INTEGER</td>
   <td></td>
   <td>ParaPCDATAOrder</td>
   <td>INTEGER</td>
  </tr>
</table>

<p></p>

<table>
  <tr>
   <th width="10"></th>
   <th align="left" width="150">Item</th>
   <th width="100"></th>
   <th width="20"></th>
   <th align="left" width="150">ItemPCDATA</th>
   <th width="100"></th>
  </tr>
  <tr>
   <td></td>
   <td>ListFK</td>
   <td>INTEGER</td>
   <td></td>
   <td>ItemFK</td>
   <td>INTEGER</td>
  </tr>
  <tr>
   <td></td>
   <td>ItemPK</td>
   <td>INTEGER</td>
   <td></td>
   <td>ItemPCDATA</td>
   <td>VARCHAR(255)</td>
  </tr>
  <tr>
   <td></td>
   <td>ItemOrder</td>
   <td>INTEGER</td>
   <td></td>
   <td>ItemPCDATAOrder</td>
   <td>INTEGER</td>
  </tr>
</table>

</body>
</html>

